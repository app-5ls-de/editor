---
layout: bare
---
<script src="/main.js"></script>
<script>
    function createRandomWord(length) { //https://jsfiddle.net/amando96/XjUJM/
        var consonants = 'bcdfghjlmnpqrstv',
            vowels = 'aeiou',
            rand = function (limit) {
                return Math.floor(Math.random() * limit);
            },
            i, word = '', length = parseInt(length, 10),
            consonants = consonants.split(''),
            vowels = vowels.split('');
        for (i = 0; i < length / 2; i++) {
            var randConsonant = consonants[rand(consonants.length)],
                randVowel = vowels[rand(vowels.length)];
            word += (i === 0) ? randConsonant.toUpperCase() : randConsonant;
            word += i * 2 < length - 1 ? randVowel : '';
        }
        return word;
    }

    const params = new URL(location.href).searchParams
    if (params.get('auto') != null) {
        var state = {
            private: {
                key: random_uuid(),
                id: random_boxid(),
                LastModified: new Date(),
                title: createRandomWord(6)
            },
            public: {
                content: undefined
            }
        }

        localStorage.setItem(state.private.id, JSON.stringify(state))

        window.location.href = window.location.origin + "/shared?id=" + state.private.id
    }
</script>